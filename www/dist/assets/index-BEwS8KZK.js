var S=Object.defineProperty;var k=(t,e,n)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var T=(t,e,n)=>k(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();let a,w=null;function E(){return(w===null||w.byteLength===0)&&(w=new Uint8Array(a.memory.buffer)),w}let B=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});B.decode();const L=2146435072;let x=0;function C(t,e){return x+=e,x>=L&&(B=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),B.decode(),x=e),B.decode(E().subarray(t,t+e))}function b(t,e){return t=t>>>0,C(t,e)}function _(t){const e=a.__externref_table_alloc();return a.__wbindgen_export_2.set(e,t),e}function W(t,e){try{return t.apply(this,e)}catch(n){const r=_(n);a.__wbindgen_exn_store(r)}}function m(t){return t==null}let g=0;const p=new TextEncoder;"encodeInto"in p||(p.encodeInto=function(t,e){const n=p.encode(t);return e.set(n),{read:t.length,written:n.length}});function I(t,e,n){if(n===void 0){const c=p.encode(t),l=e(c.length,1)>>>0;return E().subarray(l,l+c.length).set(c),g=c.length,l}let r=t.length,i=e(r,1)>>>0;const s=E();let o=0;for(;o<r;o++){const c=t.charCodeAt(o);if(c>127)break;s[i+o]=c}if(o!==r){o!==0&&(t=t.slice(o)),i=n(i,r,r=o+t.length*3,1)>>>0;const c=E().subarray(i+o,i+r),l=p.encodeInto(t,c);o+=l.written,i=n(i,r,o,1)>>>0}return g=o,i}let f=null;function h(){return(f===null||f.buffer.detached===!0||f.buffer.detached===void 0&&f.buffer!==a.memory.buffer)&&(f=new DataView(a.memory.buffer)),f}function v(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=v(t[0]));for(let o=1;o<i;o++)s+=", "+v(t[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n&&n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}let y=null;function z(){return(y===null||y.byteLength===0)&&(y=new Uint32Array(a.memory.buffer)),y}function M(t,e){const n=e(t.length*4,4)>>>0;return z().set(t,n/4),g=t.length,n}function P(t,e,n,r,i){const s=I(t,a.__wbindgen_malloc,a.__wbindgen_realloc),o=g,c=M(n,a.__wbindgen_malloc),l=g;return a.run_quick_benchmark(s,o,e,c,l,r,i)}typeof FinalizationRegistry>"u"||new FinalizationRegistry(t=>a.__wbg_benchmarkrunner_free(t>>>0,1));const D=new Set(["basic","cors","default"]);async function F(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&D.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function N(){const t={};return t.wbg={},t.wbg.__wbg_Error_e17e777aac105295=function(e,n){return Error(b(e,n))},t.wbg.__wbg_alert_9d8f96a579801060=function(e,n){alert(b(e,n))},t.wbg.__wbg_call_13410aac570ffff7=function(){return W(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let r,i;try{r=e,i=n,console.error(b(e,n))}finally{a.__wbindgen_free(r,i,1)}},t.wbg.__wbg_instanceof_Window_12d20d558ef92592=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_new_19c25a3f2fa63a02=function(){return new Object},t.wbg.__wbg_new_1f3a344cf3123716=function(){return new Array},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_newnoargs_254190557c45b4ec=function(e,n){return new Function(b(e,n))},t.wbg.__wbg_now_886b39d7ec380719=function(e){return e.now()},t.wbg.__wbg_performance_a221af8decc752fb=function(e){const n=e.performance;return m(n)?0:_(n)},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,n,r){e[n]=r},t.wbg.__wbg_set_90f6c0f7bd8c0415=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const r=n.stack,i=I(r,a.__wbindgen_malloc,a.__wbindgen_realloc),s=g;h().setInt32(e+4*1,s,!0),h().setInt32(e+4*0,i,!0)},t.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const e=typeof global>"u"?null:global;return m(e)?0:_(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const e=typeof globalThis>"u"?null:globalThis;return m(e)?0:_(e)},t.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const e=typeof self>"u"?null:self;return m(e)?0:_(e)},t.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const e=typeof window>"u"?null:window;return m(e)?0:_(e)},t.wbg.__wbg_wbindgendebugstring_99ef257a3ddda34d=function(e,n){const r=v(n),i=I(r,a.__wbindgen_malloc,a.__wbindgen_realloc),s=g;h().setInt32(e+4*1,s,!0),h().setInt32(e+4*0,i,!0)},t.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(e){return e===void 0},t.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(e,n){throw new Error(b(e,n))},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return b(e,n)},t.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=a.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function R(t,e){return a=t.exports,O.__wbindgen_wasm_module=e,f=null,y=null,w=null,a.__wbindgen_start(),a}async function O(t){if(a!==void 0)return a;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/assets/fast_base_convert_bg-BnYLyayE.wasm",import.meta.url));const e=N();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await F(await t,e);return R(n,r)}class ${constructor(){T(this,"currentPreset","small");this.initializeEventListeners()}initializeEventListeners(){const e=document.getElementById("runBenchmark"),n=document.querySelectorAll(".preset-btn");e.addEventListener("click",()=>this.runBenchmark()),n.forEach(r=>{r.addEventListener("click",i=>{n.forEach(s=>s.classList.remove("active")),i.target.classList.add("active"),this.currentPreset=i.target.dataset.preset||"custom",this.loadPreset(this.currentPreset)})})}loadPreset(e){const n=document.getElementById("iterations"),r=document.getElementById("fromBase"),i=document.getElementById("toBase"),s=document.getElementById("inputNumber");switch(e){case"small":n.value="100000",r.value="10",i.value="16",s.value="12345";break;case"power2":n.value="1000000",r.value="16",i.value="8",s.value="65535";break;case"aligned":n.value="200000",r.value="4",i.value="16",s.value="123";break;case"large":n.value="10000",r.value="10",i.value="16",s.value="1"+"0".repeat(100);break}}async runBenchmark(){const e=document.getElementById("loading"),n=document.getElementById("resultsSection"),r=document.getElementById("error"),i=document.getElementById("runBenchmark");e&&(e.style.display="block"),n&&(n.style.display="none"),r&&(r.style.display="none"),i&&(i.disabled=!0);try{const s=parseInt(document.getElementById("iterations").value),o=parseInt(document.getElementById("fromBase").value),c=parseInt(document.getElementById("toBase").value),l=document.getElementById("inputNumber").value,d=this.stringToDigits(l,o);let u="custom";this.currentPreset!=="custom"?u=this.currentPreset:this.isPowerOfTwo(o)&&this.isPowerOfTwo(c)?u="power-of-two":d.length<=5&&o===10?u="small-number":this.areAlignedBases(o,c)?u="aligned-bases":u="general-case";const A=await this.performBenchmark(u,s,new Uint32Array(d),o,c);this.displayResults(A,u),this.updateChart(A)}catch(s){console.error("Benchmark error:",s),r&&(r.textContent=`Error: ${s}`,r.style.display="block")}finally{e&&(e.style.display="none"),i&&(i.disabled=!1)}}async performBenchmark(e,n,r,i,s){return await O(),await P(e,n,r,i,s)}stringToDigits(e,n){const r=[];let i;if(e.startsWith("0x")||e.startsWith("0X")||e.startsWith("0b")||e.startsWith("0B")||e.startsWith("0o")||e.startsWith("0O"),i=BigInt(e),i===0n)return[0];for(;i>0n;)r.push(Number(i%BigInt(n))),i=i/BigInt(n);return r}isPowerOfTwo(e){return e>0&&(e&e-1)===0}areAlignedBases(e,n){return[[4,16],[8,64],[16,256],[3,27],[9,81],[16,4],[64,8],[256,16],[27,3],[81,9]].some(([i,s])=>i===e&&s===n||i===n&&s===e)}displayResults(e,n){const r=document.getElementById("resultsSection");if(!r)return;r.style.display="block",r.classList.remove("hidden");const i=document.getElementById("baselineTime"),s=document.getElementById("optimizedTime"),o=document.getElementById("testType"),c=document.getElementById("inputDigits"),l=document.getElementById("correctness"),d=document.getElementById("speedup");i&&(i.textContent=`${e.baseline_time.toFixed(2)} ms`),s&&(s.textContent=`${e.optimized_time.toFixed(2)} ms`),o&&(o.textContent=n),c&&(c.textContent=e.baseline_result.length+" digits"),l&&(l.textContent=e.is_correct?"✓ Correct":"✗ Incorrect",l.style.color=e.is_correct?"#16a34a":"#dc2626"),d&&(d.textContent=`${e.speedup.toFixed(2)}× speedup`,d.className=`speedup ${e.speedup>1?"positive":"negative"}`)}updateChart(e){if(!document.getElementById("chartContainer")){const o=document.getElementById("resultsSection");if(!o)return;const c=document.createElement("div");c.id="chartContainer",c.className="chart-container",c.style.display="block",o.appendChild(c)}const r=document.getElementById("chartContainer");r.style.display="block";const i=e.baseline_time/Math.max(e.baseline_time,e.optimized_time)*250,s=e.optimized_time/Math.max(e.baseline_time,e.optimized_time)*250;r.innerHTML=`
      <div style="display: flex; justify-content: space-around; align-items: flex-end; height: 300px; padding: 20px;">
        <div style="text-align: center;">
          <div style="background: linear-gradient(135deg, #667eea, #5a67d8); width: 120px; height: ${i}px; margin-bottom: 12px; border-radius: 8px 8px 0 0; transition: height 0.3s ease; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);"></div>
          <div style="font-weight: 600; color: #333; font-size: 16px; margin-bottom: 4px;">Baseline</div>
          <div style="font-weight: bold; color: #667eea; font-size: 18px;">${e.baseline_time.toFixed(2)} ms</div>
        </div>
        <div style="text-align: center;">
          <div style="background: linear-gradient(135deg, #10b981, #059669); width: 120px; height: ${s}px; margin-bottom: 12px; border-radius: 8px 8px 0 0; transition: height 0.3s ease; box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);"></div>
          <div style="font-weight: 600; color: #333; font-size: 16px; margin-bottom: 4px;">Optimized</div>
          <div style="font-weight: bold; color: #10b981; font-size: 18px;">${e.optimized_time.toFixed(2)} ms</div>
        </div>
      </div>
    `}}document.addEventListener("DOMContentLoaded",()=>{new $});
//# sourceMappingURL=index-BEwS8KZK.js.map
