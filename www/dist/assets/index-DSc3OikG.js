var L=Object.defineProperty;var k=(t,e,n)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var O=(t,e,n)=>k(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();let c,m=null;function h(){return(m===null||m.byteLength===0)&&(m=new Uint8Array(c.memory.buffer)),m}let B=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});B.decode();const S=2146435072;let x=0;function W(t,e){return x+=e,x>=S&&(B=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),B.decode(),x=e),B.decode(h().subarray(t,t+e))}function g(t,e){return t=t>>>0,W(t,e)}function _(t){const e=c.__externref_table_alloc();return c.__wbindgen_export_2.set(e,t),e}function C(t,e){try{return t.apply(this,e)}catch(n){const i=_(n);c.__wbindgen_exn_store(i)}}function b(t){return t==null}let f=0;const y=new TextEncoder;"encodeInto"in y||(y.encodeInto=function(t,e){const n=y.encode(t);return e.set(n),{read:t.length,written:n.length}});function I(t,e,n){if(n===void 0){const a=y.encode(t),u=e(a.length,1)>>>0;return h().subarray(u,u+a.length).set(a),f=a.length,u}let i=t.length,r=e(i,1)>>>0;const s=h();let o=0;for(;o<i;o++){const a=t.charCodeAt(o);if(a>127)break;s[r+o]=a}if(o!==i){o!==0&&(t=t.slice(o)),r=n(r,i,i=o+t.length*3,1)>>>0;const a=h().subarray(r+o,r+i),u=y.encodeInto(t,a);o+=u.written,r=n(r,i,o,1)>>>0}return f=o,r}let d=null;function p(){return(d===null||d.buffer.detached===!0||d.buffer.detached===void 0&&d.buffer!==c.memory.buffer)&&(d=new DataView(c.memory.buffer)),d}function v(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const r=t.description;return r==null?"Symbol":`Symbol(${r})`}if(e=="function"){const r=t.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(t)){const r=t.length;let s="[";r>0&&(s+=v(t[0]));for(let o=1;o<r;o++)s+=", "+v(t[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(n&&n.length>1)i=n[1];else return toString.call(t);if(i=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:i}let w=null;function M(){return(w===null||w.byteLength===0)&&(w=new Uint32Array(c.memory.buffer)),w}function P(t,e){const n=e(t.length*4,4)>>>0;return M().set(t,n/4),f=t.length,n}function D(t,e,n,i,r){const s=I(t,c.__wbindgen_malloc,c.__wbindgen_realloc),o=f,a=P(n,c.__wbindgen_malloc),u=f;return c.run_quick_benchmark(s,o,e,a,u,i,r)}typeof FinalizationRegistry>"u"||new FinalizationRegistry(t=>c.__wbg_benchmarkrunner_free(t>>>0,1));const F=new Set(["basic","cors","default"]);async function R(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(i){if(t.ok&&F.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function $(){const t={};return t.wbg={},t.wbg.__wbg_Error_e17e777aac105295=function(e,n){return Error(g(e,n))},t.wbg.__wbg_alert_9d8f96a579801060=function(e,n){alert(g(e,n))},t.wbg.__wbg_call_13410aac570ffff7=function(){return C(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let i,r;try{i=e,r=n,console.error(g(e,n))}finally{c.__wbindgen_free(i,r,1)}},t.wbg.__wbg_instanceof_Window_12d20d558ef92592=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_new_19c25a3f2fa63a02=function(){return new Object},t.wbg.__wbg_new_1f3a344cf3123716=function(){return new Array},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_newnoargs_254190557c45b4ec=function(e,n){return new Function(g(e,n))},t.wbg.__wbg_now_886b39d7ec380719=function(e){return e.now()},t.wbg.__wbg_performance_a221af8decc752fb=function(e){const n=e.performance;return b(n)?0:_(n)},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,n,i){e[n]=i},t.wbg.__wbg_set_90f6c0f7bd8c0415=function(e,n,i){e[n>>>0]=i},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const i=n.stack,r=I(i,c.__wbindgen_malloc,c.__wbindgen_realloc),s=f;p().setInt32(e+4*1,s,!0),p().setInt32(e+4*0,r,!0)},t.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const e=typeof global>"u"?null:global;return b(e)?0:_(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const e=typeof globalThis>"u"?null:globalThis;return b(e)?0:_(e)},t.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const e=typeof self>"u"?null:self;return b(e)?0:_(e)},t.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const e=typeof window>"u"?null:window;return b(e)?0:_(e)},t.wbg.__wbg_wbindgendebugstring_99ef257a3ddda34d=function(e,n){const i=v(n),r=I(i,c.__wbindgen_malloc,c.__wbindgen_realloc),s=f;p().setInt32(e+4*1,s,!0),p().setInt32(e+4*0,r,!0)},t.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(e){return e===void 0},t.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(e,n){throw new Error(g(e,n))},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return g(e,n)},t.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=c.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function N(t,e){return c=t.exports,T.__wbindgen_wasm_module=e,d=null,w=null,m=null,c.__wbindgen_start(),c}async function T(t){if(c!==void 0)return c;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/assets/fast_base_convert_bg-BnYLyayE.wasm",import.meta.url));const e=$();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:i}=await R(await t,e);return N(n,i)}class z{constructor(){O(this,"currentPreset","small");this.initializeEventListeners()}initializeEventListeners(){const e=document.getElementById("runBenchmark"),n=document.querySelectorAll(".preset-btn");e.addEventListener("click",()=>this.runBenchmark()),n.forEach(i=>{i.addEventListener("click",r=>{n.forEach(s=>s.classList.remove("active")),r.target.classList.add("active"),this.currentPreset=r.target.dataset.preset||"custom",this.loadPreset(this.currentPreset)})})}loadPreset(e){const n=document.getElementById("iterations"),i=document.getElementById("fromBase"),r=document.getElementById("toBase"),s=document.getElementById("inputNumber");switch(e){case"small":n.value="100000",i.value="10",r.value="16",s.value="12345";break;case"power2":n.value="1000000",i.value="16",r.value="8",s.value="65535";break;case"aligned":n.value="200000",i.value="4",r.value="16",s.value="123";break;case"large":n.value="10000",i.value="10",r.value="16",s.value="1"+"0".repeat(100);break}}async runBenchmark(){const e=document.getElementById("loading"),n=document.getElementById("results"),i=document.getElementById("error"),r=document.getElementById("runBenchmark");e.style.display="block",n.style.display="none",i.style.display="none",r.disabled=!0;try{const s=parseInt(document.getElementById("iterations").value),o=parseInt(document.getElementById("fromBase").value),a=parseInt(document.getElementById("toBase").value),u=document.getElementById("inputNumber").value,E=this.stringToDigits(u,o);let l="custom";this.currentPreset!=="custom"?l=this.currentPreset:this.isPowerOfTwo(o)&&this.isPowerOfTwo(a)?l="power-of-two":E.length<=5&&o===10?l="small-number":this.areAlignedBases(o,a)?l="aligned-bases":l="general-case";const A=await this.performBenchmark(l,s,new Uint32Array(E),o,a);this.displayResults(A,l),this.updateChart(A)}catch(s){console.error("Benchmark error:",s),i.textContent=`Error: ${s}`,i.style.display="block"}finally{e.style.display="none",r.disabled=!1}}async performBenchmark(e,n,i,r,s){return await T(),await D(e,n,i,r,s)}stringToDigits(e,n){const i=[];let r;if(e.startsWith("0x")||e.startsWith("0X")||e.startsWith("0b")||e.startsWith("0B")||e.startsWith("0o")||e.startsWith("0O"),r=BigInt(e),r===0n)return[0];for(;r>0n;)i.push(Number(r%BigInt(n))),r=r/BigInt(n);return i}isPowerOfTwo(e){return e>0&&(e&e-1)===0}areAlignedBases(e,n){return[[4,16],[8,64],[16,256],[3,27],[9,81],[16,4],[64,8],[256,16],[27,3],[81,9]].some(([r,s])=>r===e&&s===n||r===n&&s===e)}displayResults(e,n){const i=document.getElementById("results");i.style.display="grid",document.getElementById("baselineTime").textContent=`${e.baseline_time.toFixed(2)} ms`,document.getElementById("optimizedTime").textContent=`${e.optimized_time.toFixed(2)} ms`,document.getElementById("testType").textContent=n,document.getElementById("inputDigits").textContent=e.baseline_result.length+" digits";const r=document.getElementById("correctness");r.textContent=e.is_correct?"✓ Correct":"✗ Incorrect",r.style.color=e.is_correct?"#4caf50":"#f44336";const s=document.getElementById("speedup");s.textContent=`${e.speedup.toFixed(2)}× speedup`,s.className=`speedup ${e.speedup>1?"positive":"negative"}`}updateChart(e){const n=document.getElementById("chartCard");n.style.display="block";const i=document.getElementById("chartContainer");if(!i)return;const r=e.baseline_time/Math.max(e.baseline_time,e.optimized_time)*250,s=e.optimized_time/Math.max(e.baseline_time,e.optimized_time)*250;i.innerHTML=`
      <div style="display: flex; justify-content: space-around; align-items: flex-end; height: 300px; padding: 20px;">
        <div style="text-align: center;">
          <div style="background: #667eea; width: 100px; height: ${r}px; margin-bottom: 10px; border-radius: 4px 4px 0 0; transition: height 0.3s ease;"></div>
          <div style="font-weight: 600; color: #333;">Baseline</div>
          <div style="font-weight: bold; color: #667eea;">${e.baseline_time.toFixed(2)} ms</div>
        </div>
        <div style="text-align: center;">
          <div style="background: #4caf50; width: 100px; height: ${s}px; margin-bottom: 10px; border-radius: 4px 4px 0 0; transition: height 0.3s ease;"></div>
          <div style="font-weight: 600; color: #333;">Optimized</div>
          <div style="font-weight: bold; color: #4caf50;">${e.optimized_time.toFixed(2)} ms</div>
        </div>
      </div>
    `}}document.addEventListener("DOMContentLoaded",()=>{new z});
//# sourceMappingURL=index-DSc3OikG.js.map
