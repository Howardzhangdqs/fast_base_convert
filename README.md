# Fast Base Convert

一个高性能的基数转换库，专注于算法层面的优化。

## 特性

- 支持任意进制转换（2-65536）
- 多种优化策略：
  - **位运算优化**：2的幂进制使用直接位移操作
  - **u128快速路径**：小数字使用128位整数运算
  - **对齐进制优化**：使用质因数分解分组转换
  - **基准算法**：大数字使用标准除法算法

## 性能基准测试结果

### 算法优化效果
- **位运算优化**（2的幂进制）：**6.23倍**加速
- **u128快速路径**（小数字）：**3.53倍**加速
- **对齐进制优化**（对齐进制）：**2.98倍**加速
- **基础除法**（通用情况）：基准实现

### 测试条件
- 每项测试执行时间≥1秒
- 使用真实基准版本对比
- 25个单元测试 + 6个集成测试全部通过

## 使用

```rust
use fast_base_convert::{convert_base, convert_base_baseline};

// 自动优化转换
let input = vec![5, 4, 3, 2, 1]; // 12345 in base 10
let result = convert_base(&input, 10, 16);

// 基准转换
let baseline_result = convert_base_baseline(&input, 10, 16);

// 结果: [9, 3, 0, 3] (0x3039 in hex)
```

## 运行测试

```bash
cargo test                          # 单元测试 + 集成测试
cargo run --example benchmark        # 标准性能测试
cargo run --example algorithm_benchmark  # 算法特定基准测试
```

## 优化策略详解

### 1. 位运算优化 (6.23x加速)
- **适用场景**：2的幂进制转换（如16→8, 32→2）
- **算法**：使用位移操作代替除法
- **复杂度**：从O(n)降到O(1)

### 2. u128快速路径 (3.53x加速)
- **适用场景**：能放入128位的小数字
- **算法**：直接使用硬件整数运算
- **优势**：避免大数运算开销

### 3. 对齐进制优化 (2.98x加速)
- **适用场景**：进制满足n^a = m^b关系（如4²=16）
- **算法**：质因数分解分组转换
- **优势**：减少迭代次数

### 4. 基础除法算法
- **适用场景**：通用情况和大数字
- **算法**：标准除法取余算法
- **特点**：无伪优化，诚实实现

## 项目结构

```
src/
├── lib.rs          # 库入口
├── baseline.rs     # 基础算法实现
├── optimized.rs    # 优化算法实现
└── utils.rs        # 工具函数

examples/
├── benchmark.rs           # 标准性能测试
└── algorithm_benchmark.rs # 算法特定基准测试

tests/
└── integration_tests.rs   # 集成测试
```

## 技术亮点

- **算法复杂度优化**：优先改进时间复杂度而非常数因子
- **快速路径检测**：常见情况优先处理
- **诚实的设计**：无效优化直接使用基准实现
- **全面测试**：单元测试 + 集成测试 + 性能基准测试
- **教育价值**：展示哪些优化真正有效

## 许可证

MIT OR Apache-2.0